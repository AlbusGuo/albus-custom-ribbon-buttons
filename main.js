/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var x=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var M=(c,i)=>{for(var t in i)x(c,t,{get:i[t],enumerable:!0})},A=(c,i,t,e)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of L(i))!T.call(c,n)&&n!==t&&x(c,n,{get:()=>i[n],enumerable:!(e=D(i,n))||e.enumerable});return c};var F=c=>A(x({},"__esModule",{value:!0}),c);var V={};M(V,{default:()=>y});module.exports=F(V);var C=require("obsidian");var S={buttonItems:[],hideBuiltInButtons:!0,hideDefaultActions:!1};function B(){return{icon:"lucide-plus",tooltip:"\u65B0\u6309\u94AE",type:"command",command:"",file:"",url:""}}function k(){return{type:"divider",id:`divider-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}var w=require("obsidian"),m=class{constructor(i,t,e){this.app=i;this.onSettingsChange=t;this.onReorderButtons=e;this.ribbonMap=new Map;this.styleElements={};this.dragState={isDragging:!1,dragSource:null}}initVaultButtons(i,t=!0){this.clearAllButtons(),this.initButtonItems(i),t&&this.initBuiltInButtons()}clearAllButtons(){this.ribbonMap.forEach(i=>{i&&i.parentElement&&i.remove()}),this.ribbonMap.clear()}initButtonItems(i){i.forEach((t,e)=>{t.type==="divider"?this.createDivider(t,e):this.createCustomButton(t,e)})}initBuiltInButtons(){[{id:"vault",tooltip:"\u5207\u6362\u5E93",icon:"vault",onClick:()=>this.showVaultChooser(),draggable:!1},{id:"help",tooltip:"\u5E2E\u52A9",icon:"help",onClick:()=>this.showHelp(),draggable:!1},{id:"settings",tooltip:"\u8BBE\u7F6E",icon:"lucide-settings",onClick:()=>this.showSettings(),draggable:!1}].forEach(t=>{this.createRibbonButton(t.id,t.tooltip,t.icon,t.onClick,t.draggable)})}createCustomButton(i,t){let e=`custom-${t}`,n=()=>{this.handleButtonClick(i)};return this.createRibbonButton(e,i.tooltip,i.icon,n,!0,t)}createDivider(i,t){var e;try{let n=this.app.workspace.leftRibbon,a=document.createElement("div");a.className="custom-ribbon-divider",a.dataset.arrayIndex=t.toString(),this.makeDividerDraggable(a,i.id,t);let o=n;if(o.ribbonActionsEl)o.ribbonActionsEl.appendChild(a);else if(o.ribbonSettingEl)o.ribbonSettingEl.appendChild(a);else try{(((e=o.children)==null?void 0:e[0])||o).appendChild(a)}catch(r){console.warn("Could not find ribbon container:",r)}return this.ribbonMap.set(i.id,a),a}catch(n){console.warn("Failed to create divider:",n);let a=document.createElement("div");return a.style.display="none",a}}handleButtonClick(i){switch(i.type){case"command":i.command&&this.executeCommand(i.command);break;case"file":i.file&&this.openFile(i.file);break;case"url":i.url&&window.open(i.url,"_blank");break}}openFile(i){let t=this.app.vault.getAbstractFileByPath(i);t&&t instanceof w.TFile&&this.app.workspace.getLeaf("tab").openFile(t)}createRibbonButton(i,t,e,n,a=!1,o=-1){var r;try{let s=this.app.workspace.leftRibbon,l=s.makeRibbonItemButton(e,t,g=>{g.stopPropagation(),n()});o>=0&&(l.dataset.arrayIndex=o.toString()),a&&this.makeButtonDraggable(l,i),this.ribbonMap.set(i,l);let u=s;if(u.ribbonActionsEl)u.ribbonActionsEl.appendChild(l);else if(u.ribbonSettingEl)u.ribbonSettingEl.appendChild(l);else try{(((r=u.children)==null?void 0:r[0])||u).appendChild(l)}catch(g){console.warn("Could not find ribbon container:",g)}return l}catch(s){console.warn("Failed to create ribbon button:",s);let l=document.createElement("div");return l.style.display="none",l}}makeButtonDraggable(i,t){i.setAttribute("draggable","true"),i.classList.add("custom-ribbon-button"),i.addEventListener("dragstart",e=>{this.dragState.isDragging=!0,this.dragState.dragSource=t,i.classList.add("dragging"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t)}),i.addEventListener("dragend",e=>{this.dragState.isDragging=!1,this.dragState.dragSource=null,i.classList.remove("dragging"),document.querySelectorAll(".custom-ribbon-button.drag-over").forEach(n=>{n.classList.remove("drag-over")})}),i.addEventListener("dragover",e=>{this.dragState.isDragging&&this.dragState.dragSource!==t&&(e.preventDefault(),e.dataTransfer.dropEffect="move",i.classList.add("drag-over"))}),i.addEventListener("dragenter",e=>{this.dragState.isDragging&&this.dragState.dragSource!==t&&(e.preventDefault(),i.classList.add("drag-over"))}),i.addEventListener("dragleave",e=>{i.classList.remove("drag-over")}),i.addEventListener("drop",e=>{e.preventDefault(),i.classList.remove("drag-over"),this.dragState.isDragging&&this.dragState.dragSource&&this.dragState.dragSource!==t&&this.handleReorderButtons(this.dragState.dragSource,t)})}handleReorderButtons(i,t){let e=this.ribbonMap.get(i),n=this.ribbonMap.get(t);if(!e||!n)return;let a=parseInt(e.dataset.arrayIndex||"-1"),o=parseInt(n.dataset.arrayIndex||"-1");a===-1||o===-1||a===o||this.onReorderButtons(a,o)}makeDividerDraggable(i,t,e){i.setAttribute("draggable","true"),i.classList.add("custom-ribbon-divider"),i.addEventListener("dragstart",n=>{this.dragState.isDragging=!0,this.dragState.dragSource=t,i.classList.add("dragging"),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",t)}),i.addEventListener("dragend",n=>{this.dragState.isDragging=!1,this.dragState.dragSource=null,i.classList.remove("dragging"),document.querySelectorAll(".custom-ribbon-divider.drag-over").forEach(a=>{a.classList.remove("drag-over")})}),i.addEventListener("dragover",n=>{this.dragState.isDragging&&this.dragState.dragSource!==t&&(n.preventDefault(),n.dataTransfer.dropEffect="move",i.classList.add("drag-over"))}),i.addEventListener("dragenter",n=>{this.dragState.isDragging&&this.dragState.dragSource!==t&&(n.preventDefault(),i.classList.add("drag-over"))}),i.addEventListener("dragleave",n=>{i.classList.remove("drag-over")}),i.addEventListener("drop",n=>{n.preventDefault(),i.classList.remove("drag-over"),this.dragState.isDragging&&this.dragState.dragSource&&this.dragState.dragSource!==t&&this.handleReorderDividers(this.dragState.dragSource,t)})}handleReorderDividers(i,t){let e=this.ribbonMap.get(i),n=this.ribbonMap.get(t);if(!e||!n)return;let a=parseInt(e.dataset.arrayIndex||"-1"),o=parseInt(n.dataset.arrayIndex||"-1");a===-1||o===-1||a===o||this.onReorderButtons(a,o)}executeCommand(i){try{this.app.commands.executeCommandById(i)}catch(t){console.warn("Failed to execute command:",i,t)}}showVaultChooser(){try{this.app.openVaultChooser()}catch(i){console.warn("Failed to open vault chooser:",i)}}showHelp(){try{this.app.openHelp()}catch(i){console.warn("Failed to open help:",i)}}showSettings(){try{this.app.setting.open()}catch(i){console.warn("Failed to open settings:",i)}}switchLightDark(){try{this.app.vault.getConfig("theme")==="obsidian"?(this.app.setTheme("moonstone"),this.app.vault.setConfig("theme","moonstone"),this.app.workspace.trigger("css-change")):(this.app.setTheme("obsidian"),this.app.vault.setConfig("theme","obsidian"),this.app.workspace.trigger("css-change"))}catch(i){console.warn("Failed to switch theme:",i)}}applyStyleSettings(i=!0){i?[{id:"vault-profile",css:`
					body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile {
						display: none;
					}
				`},{id:"vault-switcher",css:`
					body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile .workspace-drawer-vault-switcher {
						display: none;
					}
				`},{id:"vault-actions-help",css:`
					body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile .workspace-drawer-vault-actions .clickable-icon:has(svg.svg-icon.help) {
						display: none;
					}
				`},{id:"vault-actions-settings",css:`
					body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile .workspace-drawer-vault-actions .clickable-icon:has(svg.svg-icon.lucide-settings) {
						display: none;
					}
				`},{id:"vault-actions-theme",css:`
					body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile .workspace-drawer-vault-actions .clickable-icon:has(svg.svg-icon.lucide-sun-moon) {
						display: none;
					}
				`}].forEach(({id:e,css:n})=>{this.updateStyle(e,n)}):["vault-profile","vault-switcher","vault-actions-help","vault-actions-settings","vault-actions-theme"].forEach(e=>{this.removeStyle(e)})}applyDefaultActionsStyle(i=!1){if(i){let t=`
				.side-dock-actions {
					display: none !important;
				}
			`;this.updateStyle("default-actions",t)}else this.removeStyle("default-actions")}removeStyle(i){let t=this.styleElements[i];t&&(t.remove(),delete this.styleElements[i])}updateStyle(i,t){let e=this.styleElements[i];e||(e=document.createElement("style"),e.id=i,document.head.appendChild(e),this.styleElements[i]=e),e.textContent=t}destroy(){this.clearAllButtons();for(let i in this.styleElements)this.styleElements[i].remove();this.styleElements={}}};var d=require("obsidian");var E=require("obsidian"),h=class extends E.FuzzySuggestModal{constructor(t,e){super(t);this.onChoose=e}getItems(){try{return this.app.vault.getFiles()}catch(t){return console.warn("Failed to get files:",t),[]}}getItemText(t){return t.path}onChooseItem(t,e){this.onChoose(t)}};var I=require("obsidian"),v=class extends I.FuzzySuggestModal{constructor(t,e){super(t);this.onChoose=e}getItems(){try{let t=this.app.commands.commands,e=[];for(let n in t){let a=t[n];e.push(a)}return e}catch(t){return console.warn("Failed to get commands:",t),[]}}getItemText(t){return t.name}onChooseItem(t,e){this.onChoose(t)}};var p=require("obsidian"),b=class extends p.FuzzySuggestModal{constructor(t,e){super(t);this.onChoose=e,this.setPlaceholder("\u641C\u7D22\u56FE\u6807\u540D\u79F0...")}getItems(){return(0,p.getIconIds)().map(e=>({name:e,displayName:this.formatIconName(e)}))}getItemText(t){return t.displayName}formatIconName(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}renderSuggestion(t,e){let n=t.item,a=e.createDiv({cls:"icon-suggest-item"}),o=a.createDiv({cls:"icon-suggest-icon"});try{(0,p.setIcon)(o,n.name)}catch(s){o.setText("?")}let r=a.createDiv({cls:"icon-suggest-text"});r.createDiv({cls:"icon-suggest-name",text:n.displayName}),r.createDiv({cls:"icon-suggest-id",text:n.name})}onChooseItem(t,e){this.onChoose(t.name)}};var f=class extends d.PluginSettingTab{constructor(t,e){super(t,e);this.plugin=e}display(){let{containerEl:t}=this;t.empty(),this.createGlobalSettings(t),this.plugin.settings.buttonItems.length===0?this.createEmptyState(t):this.createButtonsList(t),this.createAddButtons(t)}createGlobalSettings(t){new d.Setting(t).setName("\u8C03\u6574\u5185\u7F6E\u6309\u94AE\u5230\u5DE6\u4FA7\u529F\u80FD\u533A").setDesc("\u5F00\u542F\u540E\u5C06 Obsidian \u539F\u751F\u7684\u5E93\u5207\u6362\u3001\u8BBE\u7F6E\u3001\u5E2E\u52A9\u7B49\u6309\u94AE\u5E03\u5C40\u8C03\u6574\u5230\u5DE6\u4FA7\u529F\u80FD\u533A").addToggle(e=>e.setValue(this.plugin.settings.hideBuiltInButtons).onChange(async n=>{this.plugin.settings.hideBuiltInButtons=n,await this.plugin.saveSettings(),this.plugin.buttonManager.applyStyleSettings(n),this.plugin.initVaultButtons()})),new d.Setting(t).setName("\u9690\u85CF\u9ED8\u8BA4\u529F\u80FD\u533A").setDesc("\u5F00\u542F\u540E\u5C06\u9690\u85CF Obsidian \u7684\u9ED8\u8BA4\u529F\u80FD\u533A").addToggle(e=>e.setValue(this.plugin.settings.hideDefaultActions).onChange(async n=>{this.plugin.settings.hideDefaultActions=n,await this.plugin.saveSettings(),this.plugin.buttonManager.applyDefaultActionsStyle(n)}))}createEmptyState(t){let e=t.createDiv("basic-vault-button-empty");e.createEl("p",{text:"\u8FD8\u6CA1\u6709\u6DFB\u52A0\u4EFB\u4F55\u81EA\u5B9A\u4E49\u6309\u94AE"}),e.createEl("p",{text:'\u70B9\u51FB\u4E0B\u65B9\u7684"\u6DFB\u52A0\u65B0\u6309\u94AE"\u5F00\u59CB\u521B\u5EFA',cls:"setting-item-description"})}createButtonsList(t){let e=t.createDiv("basic-vault-button-container");this.plugin.settings.buttonItems.forEach((n,a)=>{n.type==="divider"?this.createDividerSetting(e,n,a):this.createButtonSetting(e,n,a)})}createAddButtons(t){let e=t.createDiv("basic-vault-button-add-container");e.createEl("button",{text:"\u6DFB\u52A0\u65B0\u6309\u94AE",cls:"basic-vault-button-add-btn"}).addEventListener("click",()=>{this.addCustomButton()}),e.createEl("button",{text:"\u6DFB\u52A0\u5206\u5272\u7EBF",cls:"basic-vault-button-add-btn"}).addEventListener("click",()=>{this.addDivider()})}addCustomButton(){let t=B();this.plugin.settings.buttonItems.push(t),this.plugin.saveSettings(),this.plugin.initVaultButtons(),this.display()}addDivider(){let t=k();this.plugin.settings.buttonItems.push(t),this.plugin.saveSettings(),this.plugin.initVaultButtons(),this.display()}removeButtonItem(t){this.plugin.settings.buttonItems.splice(t,1),this.plugin.saveSettings(),this.plugin.initVaultButtons(),this.display()}createButtonSetting(t,e,n){let a=new d.Setting(t).setName("\u6309\u94AE").addText(o=>o.setPlaceholder("\u6309\u94AE\u540D\u79F0").setValue(e.tooltip).onChange(async r=>{e.tooltip=r,await this.plugin.saveSettings(),this.plugin.initVaultButtons()}));this.addIconPicker(a,e),a.addDropdown(o=>o.addOption("command","\u547D\u4EE4").addOption("file","\u6587\u4EF6").addOption("url","\u7F51\u5740").setValue(e.type).onChange(async r=>{e.type=r,await this.plugin.saveSettings(),this.display()})).addSearch(o=>{if(o.setValue(this.getValueForType(e)),o.setPlaceholder(this.getPlaceholderForType(e.type)),e.type==="url"&&(o.inputEl.type="url"),e.type==="command"){let r=new v(this.app,s=>{e.command=s.id,o.setValue(s.id),this.plugin.saveSettings()});o.inputEl.addEventListener("click",()=>{r.open()})}if(e.type==="file"){let r=new h(this.app,s=>{e.file=s.path,o.setValue(s.path),this.plugin.saveSettings()});o.inputEl.addEventListener("click",()=>{r.open()})}o.onChange(r=>{this.setValueForType(e,r),this.plugin.saveSettings()})}).addExtraButton(o=>o.setIcon("trash").setTooltip("\u5220\u9664\u6309\u94AE").onClick(()=>this.removeButtonItem(n)))}addIconPicker(t,e){let n=t.controlEl.createEl("button",{cls:"icon-picker-button-compact"}),a=n.createDiv({cls:"icon-picker-preview-compact"}),o=r=>{a.empty();try{(0,d.setIcon)(a,r||"help-circle")}catch(s){a.setText("?")}};o(e.icon),n.addEventListener("click",()=>{new b(this.app,async s=>{e.icon=s,o(s),await this.plugin.saveSettings(),this.plugin.initVaultButtons()}).open()}),n.title=`\u5F53\u524D\u56FE\u6807: ${e.icon||"help-circle"}`}getPlaceholderForType(t){switch(t){case"command":return"\u547D\u4EE4ID";case"file":return"\u6587\u4EF6\u8DEF\u5F84";case"url":return"\u7F51\u5740";default:return"\u503C"}}getValueForType(t){switch(t.type){case"command":return t.command;case"file":return t.file;case"url":return t.url;default:return""}}setValueForType(t,e){switch(t.type){case"command":t.command=e;break;case"file":t.file=e;break;case"url":t.url=e;break}}createDividerSetting(t,e,n){let a=new d.Setting(t).setName("\u5206\u5272\u7EBF").addExtraButton(o=>o.setIcon("trash").setTooltip("\u5220\u9664\u5206\u5272\u7EBF").onClick(()=>this.removeButtonItem(n)))}};var y=class extends C.Plugin{constructor(){super(...arguments);this.styleEl=null}async onload(){await this.loadSettings(),this.injectStyles(),this.buttonManager=new m(this.app,this.handleSettingsChange.bind(this),this.reorderButtons.bind(this)),this.buttonManager.applyStyleSettings(this.settings.hideBuiltInButtons),this.buttonManager.applyDefaultActionsStyle(this.settings.hideDefaultActions),this.initVaultButtons(),this.addSettingTab(new f(this.app,this))}onunload(){this.styleEl&&(this.styleEl.remove(),this.styleEl=null),this.buttonManager&&this.buttonManager.destroy()}injectStyles(){let t=`
/* \u4E3B\u5BB9\u5668\u6837\u5F0F */
.basic-vault-button-header {
  margin-bottom: 16px;
}

.basic-vault-button-header h2 {
  margin: 0;
  color: var(--text-normal);
  font-size: 18px;
  font-weight: 600;
}



/* \u6DFB\u52A0\u6309\u94AE\u5BB9\u5668\u6837\u5F0F */
.basic-vault-button-add-container {
  display: flex;
  gap: 12px;
  margin: 16px 0;
}

/* \u6DFB\u52A0\u6309\u94AE\u6837\u5F0F */
.basic-vault-button-add-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 6px;
  padding: 8px 12px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  transition: background 0.2s ease;
  flex: 1;
}

.basic-vault-button-add-btn:hover {
  background: var(--interactive-accent-hover);
}





/* \u7A7A\u72B6\u6001\u6837\u5F0F */
.basic-vault-button-empty {
  text-align: center;
  padding: 32px 20px;
  color: var(--text-muted);
  background: var(--background-secondary);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  margin: 16px 0;
}

.basic-vault-button-empty p {
  margin: 8px 0;
  font-size: 14px;
}

.basic-vault-button-empty .setting-item-description {
  font-size: 12px;
  opacity: 0.7;
}

/* \u5206\u5272\u7EBF */
.basic-vault-button-divider {
  height: 1px;
  background: var(--background-modifier-border);
  margin: 12px 0;
}

/* \u7D27\u51D1\u578B\u8BBE\u7F6E\u9879\u6837\u5F0F */

/* \u8BBE\u7F6E\u9879\u95F4\u8DDD\u4F18\u5316 */
.basic-vault-button-container .setting-item {
  padding: 8px 0;
  margin-bottom: 0;
}

/* \u53EF\u70B9\u51FB\u7684\u8F93\u5165\u6846\u6837\u5F0F */
.basic-vault-button-container .setting-item-control input[type="text"]:focus {
  cursor: pointer;
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

/* \u547D\u4EE4\u548C\u6587\u4EF6\u8F93\u5165\u6846\u7684\u7279\u6B8A\u6837\u5F0F */
.basic-vault-button-container .setting-item-control input[placeholder*="\u547D\u4EE4ID"],
.basic-vault-button-container .setting-item-control input[placeholder*="\u6587\u4EF6\u8DEF\u5F84"] {
  cursor: pointer;
  background: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 4px 8px;
  transition: all 0.2s ease;
}

.basic-vault-button-container .setting-item-control input[placeholder*="\u547D\u4EE4ID"]:hover,
.basic-vault-button-container .setting-item-control input[placeholder*="\u6587\u4EF6\u8DEF\u5F84"]:hover {
  border-color: var(--interactive-accent);
  background: var(--background-primary);
}

.basic-vault-button-container .setting-item-control input[placeholder*="\u547D\u4EE4ID"]:focus,
.basic-vault-button-container .setting-item-control input[placeholder*="\u6587\u4EF6\u8DEF\u5F84"]:focus {
  border-color: var(--interactive-accent);
  background: var(--background-primary);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

/* \u9690\u85CF\u641C\u7D22\u8F93\u5165\u6846\u7684\u653E\u5927\u955C\u56FE\u6807 */
.basic-vault-button-container .setting-item-control .search-input-container::before {
  display: none !important;
}

/* \u9690\u85CF\u641C\u7D22\u8F93\u5165\u6846\u7684\u6E05\u9664\u6309\u94AE\u56FE\u6807 */
.basic-vault-button-container .setting-item-control .search-input-container .clickable-icon {
  display: none !important;
}

/* \u5355\u884C\u5E03\u5C40\u63A7\u4EF6\u6837\u5F0F */
.basic-vault-button-container .setting-item-control {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.basic-vault-button-container .setting-item-control input[type="text"],
.basic-vault-button-container .setting-item-control select {
  min-width: 120px;
  max-width: 150px;
  font-size: 12px;
  padding: 4px 6px;
}

.basic-vault-button-container .setting-item-control .dropdown {
  min-width: 80px;
  max-width: 100px;
}

/* \u7D27\u51D1\u578B\u56FE\u6807\u9009\u62E9\u5668\u6837\u5F0F */
.icon-picker-button-compact {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 28px;
  padding: 4px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background: var(--background-primary);
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 14px;
}

.icon-picker-button-compact:hover {
  background: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.icon-picker-preview-compact {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  color: var(--text-normal);
}

.icon-picker-preview-compact svg {
  width: 16px;
  height: 16px;
}

/* \u5220\u9664\u6309\u94AE\u6837\u5F0F */
.basic-vault-button-container .setting-item-extra-button {
  color: var(--color-red);
  margin-left: 4px;
}

.basic-vault-button-container .setting-item-extra-button:hover {
  color: var(--color-red-dark);
}

/* \u54CD\u5E94\u5F0F\u8C03\u6574 */
@media (max-width: 768px) {
  .basic-vault-button-container .setting-item-control {
    flex-direction: column;
    align-items: stretch;
    gap: 6px;
  }
  
  .basic-vault-button-container .setting-item-control input[type="text"],
  .basic-vault-button-container .setting-item-control select,
  .basic-vault-button-container .setting-item-control .dropdown {
    max-width: 100%;
    width: 100%;
  }
}

/* \u547D\u4EE4\u641C\u7D22\u6837\u5F0F */
.command-search-container {
  position: relative;
  width: 100%;
}

.command-search-button {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 4px;
  padding: 4px 8px;
  cursor: pointer;
  font-size: 11px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.command-search-button:hover {
  background: var(--interactive-accent-hover);
}

.command-search-input {
  padding-right: 70px !important;
  width: 100%;
}

/* \u62D6\u62FD\u6392\u5E8F\u6837\u5F0F */
.custom-ribbon-button {
  transition: all 0.2s ease;
  position: relative;
}

.custom-ribbon-button:hover {
  background-color: var(--background-modifier-hover);
}

.custom-ribbon-button.dragging {
  opacity: 0.5;
}

.custom-ribbon-button.drag-over {
  border: 2px dashed var(--interactive-accent);
  background-color: var(--background-modifier-hover);
}

/* \u5206\u5272\u7EBF\u62D6\u62FD\u6837\u5F0F */
.custom-ribbon-divider {
  position: relative;
  cursor: move;
  margin: 4px 0;
  flex-shrink: 0;
  width: 100%;
  height: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.custom-ribbon-divider::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 1px;
  background-color: var(--divider-color);
  opacity: 0.5;
}

.custom-ribbon-divider:hover::before {
  opacity: 1;
  background-color: var(--divider-color);
}

.custom-ribbon-divider.dragging::before {
  opacity: 0.5;
  transform: scale(0.95);
}

.custom-ribbon-divider.drag-over::before {
  height: 4px;
  background-color: var(--divider-color);
  opacity: 1;
}

/* \u62D6\u62FD\u65F6\u7684\u89C6\u89C9\u63D0\u793A */
.custom-ribbon-divider:hover {
  background-color: var(--background-modifier-hover);
  border-radius: 2px;
}

.custom-ribbon-divider.dragging {
  background-color: var(--background-modifier-hover);
  border-radius: 2px;
}

/* \u54CD\u5E94\u5F0F\u8BBE\u8BA1 */
@media (max-width: 768px) {
  .basic-vault-button-add-container {
    flex-direction: column;
  }
  
  .basic-vault-button-add-btn {
    width: 100%;
    justify-content: center;
  }
  
  .basic-vault-button-empty {
    padding: 24px 16px;
    margin: 12px 0;
  }
}
		`;this.styleEl=document.createElement("style"),this.styleEl.textContent=t,document.head.appendChild(this.styleEl)}async loadSettings(){this.settings=Object.assign({},S,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}initVaultButtons(){this.buttonManager&&this.buttonManager.initVaultButtons(this.settings.buttonItems,this.settings.hideBuiltInButtons)}handleSettingsChange(){this.saveSettings(),this.initVaultButtons()}reorderButtons(t,e){if(t===e)return;let[n]=this.settings.buttonItems.splice(t,1);this.settings.buttonItems.splice(e,0,n),this.saveSettings(),this.initVaultButtons()}};
